# 98.验证二叉搜索树

https://leetcode-cn.com/problems/validate-binary-search-tree/

![](https://cdn.jsdelivr.net/gh/River-Cold/pictureBed/vuepress-blog/docs/solution/leetcode/LeetCode-hot-topic-HOT-100/98.png)

## 方法一：递归

### 思路分析

::: tip

如果二叉树的左子树不为空，则左子树上所有节点的值均小于它的根节点的值；若它的右子树不空，则右子树上所有节点的值均大于它的根节点的值；它的左右子树也为二叉搜索树。

**递归函数**

`helper(root,lower,upper)`函数表示考虑以`root`为根的子树，判断子树中所有节点的值是否都在 $(l,r)$ 的范围内

**递归终止条件**

根节点为空

左子树节点的值大于根节点的值，右子树节点的值小于根节点的值

:::

### 参考代码

:::: code-group

::: code-group-item c++

```cpp
class Solution {
public:
    bool helper(TreeNode* root, long lower, long upper){
        if(root == nullptr){
            return true;
        }
        if(root->val <= lower || root->val >= upper){
            return false;
        }
        return helper(root->left, lower, root->val) && helper(root->right, root->val, upper);
    }
    bool isValidBST(TreeNode* root) {
        if(root == nullptr){
            return true;
        }
        return helper(root, LONG_MIN, LONG_MAX);
    }
};
```

:::

::::

### 复杂度分析

1. 时间复杂度：$O(n)$
2. 空间复杂度：$O(n)$

## 参考文献

[验证二叉搜索树 - 验证二叉搜索树 - 力扣（LeetCode） (leetcode-cn.com)](https://leetcode-cn.com/problems/validate-binary-search-tree/solution/yan-zheng-er-cha-sou-suo-shu-by-leetcode-solution/)https://leetcode-cn.com/problems/target-sum/solution/dong-tai-gui-hua-si-kao-quan-guo-cheng-by-keepal/)

